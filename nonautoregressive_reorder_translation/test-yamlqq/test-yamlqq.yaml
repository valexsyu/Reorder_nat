checkpoint:
  best_checkpoint_metric: bleu
  keep_best_checkpoints: 5
  maximize_best_checkpoint_metric: true
  no_epoch_checkpoints: true
  save_dir: nonautoregressive_reorder_translation/test-yamlqq
  save_interval: 1
  save_interval_updates: 70000
common:
  fp16: true
  fp16_no_flatten_grads: true
  log_format: simple
  log_interval: 100
  wandb_entity: valex-jcx
  wandb_project: NAT-Pretrained-Model
criterion:
  _name: nat_ctc_loss
dataset:
  fixed_validation_seed: 7
  max_tokens: 2048
  num_workers: 10
  train_subset: train
  valid_subset: valid
distributed_training:
  ddp_backend: legacy_ddp
lr_scheduler: pass_through
model:
  _name: nonautoregressive_reorder_translation
  dropout: 0.1
  embedding_frozen: true
  has_eos: true
  insert_position: uniform
  lm_head_frozen: true
  lm_iter_num: 1
  lm_loss_type: COS
  lm_start_step: 75000
  num_upsampling_rate: 20
  pretrained_lm_name: bert-base-multilingual-uncased
  pretrained_model_name: bert-base-multilingual-uncased
  upsample_fill_mask: true
  voc_choosen: 1
optimization:
  max_update: 100000
  stop_min_lr: 1e-09
  update_freq:
  - 3
optimizer:
  _name: composite
  groups:
    rate_predictor:
      lr:
      - 0.0002
      lr_float: null
      lr_scheduler:
        _name: inverse_sqrt
        warmup_init_lr: 1e-07
        warmup_updates: 10000
      optimizer:
        _name: adam
        adam_betas:
        - 0.9
        - 0.98
        adam_eps: 1e-06
        weight_decay: 0.01
    translator:
      lr:
      - 0.0002
      lr_float: null
      lr_scheduler:
        _name: inverse_sqrt
        warmup_init_lr: 1e-07
        warmup_updates: 10000
      optimizer:
        _name: adam
        adam_betas:
        - 0.9
        - 0.98
        adam_eps: 1e-06
        weight_decay: 0.01
task:
  _name: transaltion_ctcpmlm_rate
  align_position_pad_index: 513
  data: /livingrooms/valexsyu/dataset/nat/iwslt14_de_en_bibertDist_mbert_pruned26458/de-en-databin
  eval_bleu: true
  eval_bleu_print_samples: true
  left_pad_source: true
  noise: no_noise
  prepend_bos: true
  pretrained_lm_path: /livingrooms/valexsyu/dataset/model/mbert/pruned_models_BertForMaskedLM/pruned_V26458/
  pretrained_model_path: /livingrooms/valexsyu/dataset/model/mbert/pruned_models_BertForMaskedLM/pruned_V26458/
